(function(a){this.version="(beta)(0.0.3)";this.all={};this.special_keys={27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};this.shift_nums={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};this.add=function(e,c,f){if(a.isFunction(c)){f=c;c={}}var b={},h={type:"keydown",propagate:false,disableInInput:false,target:a("html")[0],checkParent:true},d=this;b=a.extend(b,h,c||{});e=e.toLowerCase();var g=function(c){c=a.event.fix(c);var e=c.target;e=e.nodeType==3?e.parentNode:e;if(b.disableInInput){var k=a(e);if(k.is("input")||k.is("textarea"))return}var m=c.which,p=c.type,i=String.fromCharCode(m).toLowerCase(),j=d.special_keys[m],l=c.shiftKey,n=c.ctrlKey,o=c.altKey,q=true,g=null;if(!a.browser){a.browser={};a.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());a.browser.safari=/webkit/.test(navigator.userAgent.toLowerCase())}if(a.browser.opera||a.browser.safari||b.checkParent)while(!d.all[e]&&e.parentNode)e=e.parentNode;var h=d.all[e].events[p].callbackMap;if(!l&&!n&&!o)g=h[j]||h[i];else{var f="";if(o)f+="alt+";if(n)f+="ctrl+";if(l)f+="shift+";g=h[f+j]||h[f+i]||h[f+d.shift_nums[i]]}if(g){g.cb(c);if(!g.propagate){c.stopPropagation();c.preventDefault();return false}}};if(!this.all[b.target])this.all[b.target]={events:{}};if(!this.all[b.target].events[b.type]){this.all[b.target].events[b.type]={callbackMap:{}};a.event.add(b.target,b.type,g)}this.all[b.target].events[b.type].callbackMap[e]={cb:f,propagate:b.propagate};return a};this.remove=function(c,b){b=b||{};target=b.target||a("html")[0];type=b.type||"keydown";c=c.toLowerCase();delete this.all[target].events[type].callbackMap[c];return a};a.hotkeys=this;return a})(jQuery)