/* Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
(function(V,Hb,kc,l){"use strict";var vb=["","webkit","moz","MS","ms","o"],hc=Hb.createElement("div"),zb="function",w=Math.round,G=Math.abs,lb=Date.now;function Y(c,b,a){return setTimeout(jb(c,a),b)}function t(b,c,a){if(Array.isArray(b)){m(b,a[c],a);return true}return false}function m(a,c,d){var b;if(!a)return;if(a.forEach)a.forEach(c,d);else if(a.length!==l){b=0;while(b<a.length){c.call(d,a[b],b,a);b++}}else for(b in a)a.hasOwnProperty(b)&&c.call(d,a[b],b,a)}function r(d,g,f){if(!Object.keys){var c="propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(","),e={}.hasOwnProperty;for(var a in{toString:1})c=false;Object.keys=function(b){var d=[];for(var a in b)e.call(b,a)&&d.push(a);if(c&&b)for(var f=0;a=c[f++];)e.call(b,a)&&d.push(a);return d}}var b=Object.keys(g),a=0;while(a<b.length){if(!f||f&&d[b[a]]===l)d[b[a]]=g[b[a]];a++}return d}function kb(a,b){return r(a,b,true)}function d(d,e,b){var c=e.prototype,a;if(!Object.create)Object.create=function(){function a(){}return function(b){if(arguments.length!=1)throw new Error("Object.create implementation only accepts one parameter.");a.prototype=b;return new a}}();a=d.prototype=Object.create(c);a.constructor=d;a._super=c;b&&r(a,b)}function jb(b,a){return function(){return b.apply(a,arguments)}}function gb(b,a){return typeof b==zb?b.apply(a?a[0]||l:l,a):b}function Db(a,b){return a===l?b:a}function J(b,c,a){m(T(c),function(c){b.addEventListener(c,a,false)})}function I(b,c,a){m(T(c),function(c){b.removeEventListener(c,a,false)})}function Gb(a,b){while(a){if(a==b)return true;a=a.parentNode}return false}function s(b,a){return b.indexOf(a)>-1}function T(a){return a.trim().split(/\s+/g)}function v(a,d,c){if(a.indexOf&&!c)return a.indexOf(d);else{var b=0;while(b<a.length){if(c&&a[b][c]==d||!c&&a[b]===d)return b;b++}return-1}}function U(a){return Array.prototype.slice.call(a,0)}function Eb(d,c,g){var a=[],e=[],b=0;while(b<d.length){var f=c?d[b][c]:d[b];v(e,f)<0&&a.push(d[b]);e[b]=f;b++}if(g)if(!c)a=a.sort();else a=a.sort(function(a,b){return a[c]>b[c]});return a}function S(f,a){var b,c,e=a[0].toUpperCase()+a.slice(1),d=0;while(d<vb.length){b=vb[d];c=b?b+e:a;if(c in f)return c;d++}return l}var mc=1;function pc(){return mc++}function rb(b){var a=b.ownerDocument;return a.defaultView||a.parentWindow}var gc=/mobile|tablet|ip(ad|hone|od)|android/i,yb="ontouchstart"in V,Pb=S(V,"PointerEvent")!==l,Ub=yb&&gc.test(navigator.userAgent),A="touch",ec="pen",Z="mouse",Wb="kinect",Zb=25,c=1,q=2,a=4,b=8,L=1,E=2,B=4,F=8,D=16,h=E|B,p=F|D,xb=h|p,Ib=["x","y"],K=["clientX","clientY"];function f(a,b){var c=this;this.manager=a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){gb(a.options.enable,[a])&&c.handler(b)};this.init()}f.prototype={handler:function(){},init:function(){this.evEl&&J(this.element,this.evEl,this.domHandler);this.evTarget&&J(this.target,this.evTarget,this.domHandler);this.evWin&&J(rb(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler);this.evTarget&&I(this.target,this.evTarget,this.domHandler);this.evWin&&I(rb(this.element),this.evWin,this.domHandler)}};function Rb(c){var a,b=c.options.inputClass;if(b)a=b;else if(Pb)a=X;else if(Ub)a=R;else if(!yb)a=Q;else a=eb;return new a(c,fc)}function fc(e,f,d){var h=d.pointers.length,g=d.changedPointers.length,i=f&c&&h-g===0,j=f&(a|b)&&h-g===0;d.isFirst=!!i;d.isFinal=!!j;if(i)e.session={};d.eventType=f;Yb(e,d);e.emit("hammer.input",d);e.recognize(d);e.session.prevInput=d}function Yb(i,a){var b=i.session,d=a.pointers,f=d.length;if(!b.firstInput)b.firstInput=pb(a);if(f>1&&!b.firstMultiple)b.firstMultiple=pb(a);else if(f===1)b.firstMultiple=false;var h=b.firstInput,c=b.firstMultiple,g=c?c.center:h.center,j=a.center=Fb(d);a.timeStamp=lb();a.deltaTime=a.timeStamp-h.timeStamp;a.angle=hb(g,j);a.distance=P(g,j);dc(b,a);a.offsetDirection=Bb(a.deltaX,a.deltaY);a.scale=c?nc(c.pointers,d):1;a.rotation=c?ic(c.pointers,d):0;Lb(b,a);var e=i.element;if(Gb(a.srcEvent.target,e))e=a.srcEvent.target;a.target=e}function dc(b,e){var d=e.center,h=b.offsetDelta||{},f=b.prevDelta||{},g=b.prevInput||{};if(e.eventType===c||g.eventType===a){f=b.prevDelta={x:g.deltaX||0,y:g.deltaY||0};h=b.offsetDelta={x:d.x,y:d.y}}e.deltaX=f.x+(d.x-h.x);e.deltaY=f.y+(d.y-h.y)}function Lb(j,a){var c=j.lastInterval||a,i=a.timeStamp-c.timeStamp,h,f,g,e;if(a.eventType!=b&&(i>Zb||c.velocity===l)){var k=c.deltaX-a.deltaX,m=c.deltaY-a.deltaY,d=jc(i,k,m);f=d.x;g=d.y;h=G(d.x)>G(d.y)?d.x:d.y;e=Bb(k,m);j.lastInterval=a}else{h=c.velocity;f=c.velocityX;g=c.velocityY;e=c.direction}a.velocity=h;a.velocityX=f;a.velocityY=g;a.direction=e}function pb(a){var c=[],b=0;while(b<a.pointers.length){c[b]={clientX:w(a.pointers[b].clientX),clientY:w(a.pointers[b].clientY)};b++}return{timeStamp:lb(),pointers:c,center:Fb(c),deltaX:a.deltaX,deltaY:a.deltaY}}function Fb(a){var b=a.length;if(b===1)return{x:w(a[0].clientX),y:w(a[0].clientY)};var d=0,e=0,c=0;while(c<b){d+=a[c].clientX;e+=a[c].clientY;c++}return{x:w(d/b),y:w(e/b)}}function jc(a,b,c){return{x:b/a||0,y:c/a||0}}function Bb(a,b){return a===b?L:G(a)>=G(b)?a>0?E:B:b>0?F:D}function P(b,c,a){if(!a)a=Ib;var d=c[a[0]]-b[a[0]],e=c[a[1]]-b[a[1]];return Math.sqrt(d*d+e*e)}function hb(b,c,a){if(!a)a=Ib;var d=c[a[0]]-b[a[0]],e=c[a[1]]-b[a[1]];return Math.atan2(e,d)*180/Math.PI}function ic(a,b){return hb(b[1],b[0],K)-hb(a[1],a[0],K)}function nc(a,b){return P(b[0],b[1],K)/P(a[0],a[1],K)}var ac={mousedown:c,mousemove:q,mouseup:a},Qb="mousedown",Sb="mousemove mouseup";function Q(){this.evEl=Qb;this.evWin=Sb;this.allow=true;this.pressed=false;f.apply(this,arguments)}d(Q,f,{handler:function(b){var d=ac[b.type];if(d&c&&b.button===0)this.pressed=true;if(d&q&&b.which!==1)d=a;if(!this.pressed||!this.allow)return;if(d&a)this.pressed=false;this.callback(this.manager,d,{pointers:[b],changedPointers:[b],pointerType:Z,srcEvent:b})}});var Xb={pointerdown:c,pointermove:q,pointerup:a,pointercancel:b,pointerout:b},Mb={2:A,3:ec,4:Z,5:Wb},mb="pointerdown",nb="pointermove pointerup pointercancel";if(V.MSPointerEvent){mb="MSPointerDown";nb="MSPointerMove MSPointerUp MSPointerCancel"}function X(){this.evEl=mb;this.evWin=nb;f.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}d(X,f,{handler:function(d){var e=this.store,h=false,j=d.type.toLowerCase().replace("ms",""),g=Xb[j],i=Mb[d.pointerType]||d.pointerType,k=i==A,f=v(e,d.pointerId,"pointerId");if(g&c&&(d.button===0||k)){if(f<0){e.push(d);f=e.length-1}}else if(g&(a|b))h=true;if(f<0)return;e[f]=d;this.callback(this.manager,g,{pointers:e,changedPointers:[d],pointerType:i,srcEvent:d});h&&e.splice(f,1)}});var Ob={touchstart:c,touchmove:q,touchend:a,touchcancel:b},Jb="touchstart",Kb="touchstart touchmove touchend touchcancel";function ub(){this.evTarget=Jb;this.evWin=Kb;this.started=false;f.apply(this,arguments)}d(ub,f,{handler:function(f){var e=Ob[f.type];if(e===c)this.started=true;if(!this.started)return;var d=Nb.call(this,f,e);if(e&(a|b)&&d[0].length-d[1].length===0)this.started=false;this.callback(this.manager,e,{pointers:d[0],changedPointers:d[1],pointerType:A,srcEvent:f})}});function Nb(e,f){var c=U(e.touches),d=U(e.changedTouches);if(f&(a|b))c=Eb(c.concat(d),"identifier",true);return[c,d]}var bc={touchstart:c,touchmove:q,touchend:a,touchcancel:b},Tb="touchstart touchmove touchend touchcancel";function R(){this.evTarget=Tb;this.targetIds={};f.apply(this,arguments)}d(R,f,{handler:function(b){var c=bc[b.type],a=lc.call(this,b,c);if(!a)return;this.callback(this.manager,c,{pointers:a[0],changedPointers:a[1],pointerType:A,srcEvent:b})}});function lc(k,j){var e=U(k.touches),i=this.targetIds;if(j&(c|q)&&e.length===1){i[e[0].identifier]=true;return[e,e]}var d,h,g=U(k.changedTouches),f=[],l=this.target;h=e.filter(function(a){return Gb(a.target,l)});if(j===c){d=0;while(d<h.length){i[h[d].identifier]=true;d++}}d=0;while(d<g.length){i[g[d].identifier]&&f.push(g[d]);if(j&(a|b))delete i[g[d].identifier];d++}return!f.length?void 0:[Eb(h.concat(f),"identifier",true),f]}function eb(){f.apply(this,arguments);var a=jb(this.handler,this);this.touch=new R(this.manager,a);this.mouse=new Q(this.manager,a)}d(eb,f,{handler:function(g,d,c){var f=c.pointerType==A,e=c.pointerType==Z;if(f)this.mouse.allow=false;else if(e&&!this.mouse.allow)return;if(d&(a|b))this.mouse.allow=true;this.callback(g,d,c)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var ob=S(hc.style,"touchAction"),sb=ob!==l,qb="compute",tb="auto",W="manipulation",z="none",x="pan-x",y="pan-y";function fb(a,b){this.manager=a;this.set(b)}fb.prototype={"set":function(a){if(a==qb)a=this.compute();if(sb)this.manager.element.style[ob]=a;this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];m(this.manager.recognizers,function(b){if(gb(b.options.enable,[b]))a=a.concat(b.getTouchAction())});return Vb(a.join(" "))},preventDefaults:function(d){if(sb)return;var c=d.srcEvent,b=d.offsetDirection;if(this.manager.session.prevented){c.preventDefault();return}var a=this.actions,e=s(a,z),g=s(a,y),f=s(a,x);if(e||g&&b&h||f&&b&p)return this.preventSrc(c)},preventSrc:function(a){this.manager.session.prevented=true;a.preventDefault()}};function Vb(a){if(s(a,z))return z;var b=s(a,x),c=s(a,y);return b&&c?x+" "+y:b||c?b?x:y:s(a,W)?W:tb}var M=1,e=2,u=4,n=8,j=n,C=16,i=32;function k(a){this.id=pc();this.manager=null;this.options=kb(a||{},this.defaults);this.options.enable=Db(this.options.enable,true);this.state=M;this.simultaneous={};this.requireFail=[]}k.prototype={defaults:{},"set":function(a){r(this.options,a);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(a){if(t(a,"recognizeWith",this))return this;var b=this.simultaneous;a=H(a,this);if(!b[a.id]){b[a.id]=a;a.recognizeWith(this)}return this},dropRecognizeWith:function(a){if(t(a,"dropRecognizeWith",this))return this;a=H(a,this);delete this.simultaneous[a.id];return this},requireFailure:function(a){if(t(a,"requireFailure",this))return this;var b=this.requireFail;a=H(a,this);if(v(b,a)===-1){b.push(a);a.requireFailure(this)}return this},dropRequireFailure:function(a){if(t(a,"dropRequireFailure",this))return this;a=H(a,this);var b=v(this.requireFail,a);b>-1&&this.requireFail.splice(b,1);return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(d){var c=this,a=this.state;function b(b){c.manager.emit(c.options.event+(b?oc(a):""),d)}a<n&&b(true);b();a>=n&&b(true)},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=i},canEmit:function(){var a=0;while(a<this.requireFail.length){if(!(this.requireFail[a].state&(i|M)))return false;a++}return true},recognize:function(b){var a=r({},b);if(!gb(this.options.enable,[this,a])){this.reset();this.state=i;return}if(this.state&(j|C|i))this.state=M;this.state=this.process(a);this.state&(e|u|n|C)&&this.tryEmit(a)},process:function(){},getTouchAction:function(){},reset:function(){}};function oc(a){return a&C?"cancel":a&n?"end":a&u?"move":a&e?"start":""}function Ab(a){return a==D?"down":a==F?"up":a==E?"left":a==B?"right":""}function H(a,c){var b=c.manager;return b?b.get(a):a}function g(){k.apply(this,arguments)}d(g,k,{defaults:{pointers:1},attrTest:function(b){var a=this.options.pointers;return a===0||b.pointers.length===a},process:function(h){var c=this.state,f=h.eventType,d=c&(e|u),g=this.attrTest(h);return d&&(f&b||!g)?c|C:d||g?f&a?c|n:!(c&e)?e:c|u:i}});function N(){g.apply(this,arguments);this.pX=null;this.pY=null}d(N,g,{defaults:{event:"pan",threshold:10,pointers:1,direction:xb},getTouchAction:function(){var b=this.options.direction,a=[];b&h&&a.push(y);b&p&&a.push(x);return a},directionTest:function(a){var c=this.options,e=true,d=a.distance,b=a.direction,f=a.deltaX,g=a.deltaY;if(!(b&c.direction))if(c.direction&h){b=f===0?L:f<0?E:B;e=f!=this.pX;d=Math.abs(a.deltaX)}else{b=g===0?L:g<0?F:D;e=g!=this.pY;d=Math.abs(a.deltaY)}a.direction=b;return e&&d>c.threshold&&b&c.direction},attrTest:function(a){return g.prototype.attrTest.call(this,a)&&(this.state&e||!(this.state&e)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=Ab(a.direction);b&&this.manager.emit(this.options.event+b,a);this._super.emit.call(this,a)}});function bb(){g.apply(this,arguments)}d(bb,g,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[z]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&e)},emit:function(a){this._super.emit.call(this,a);if(a.scale!==1){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}});function cb(){k.apply(this,arguments);this._timer=null;this._input=null}d(cb,k,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[tb]},process:function(d){var e=this.options,g=d.pointers.length===e.pointers,f=d.distance<e.threshold,h=d.deltaTime>e.time;this._input=d;if(!f||!g||d.eventType&(a|b)&&!h)this.reset();else if(d.eventType&c){this.reset();this._timer=Y(function(){this.state=j;this.tryEmit()},e.time,this)}else if(d.eventType&a)return j;return i},reset:function(){clearTimeout(this._timer)},emit:function(b){if(this.state!==j)return;if(b&&b.eventType&a)this.manager.emit(this.options.event+"up",b);else{this._input.timeStamp=lb();this.manager.emit(this.options.event,this._input)}}});function ab(){g.apply(this,arguments)}d(ab,g,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[z]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&e)}});function db(){g.apply(this,arguments)}d(db,g,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:h|p,pointers:1},getTouchAction:function(){return N.prototype.getTouchAction.call(this)},attrTest:function(b){var c=this.options.direction,d;if(c&(h|p))d=b.velocity;else if(c&h)d=b.velocityX;else if(c&p)d=b.velocityY;return this._super.attrTest.call(this,b)&&c&b.direction&&b.distance>this.options.threshold&&G(d)>this.options.velocity&&b.eventType&a},emit:function(a){var b=Ab(a.direction);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});function O(){k.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}d(O,k,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[W]},process:function(b){var d=this.options,l=b.pointers.length===d.pointers,h=b.distance<d.threshold,f=b.deltaTime<d.time;this.reset();if(b.eventType&c&&this.count===0)return this.failTimeout();if(h&&f&&l){if(b.eventType!=a)return this.failTimeout();var g=this.pTime?b.timeStamp-this.pTime<d.interval:true,k=!this.pCenter||P(this.pCenter,b.center)<d.posThreshold;this.pTime=b.timeStamp;this.pCenter=b.center;if(!k||!g)this.count=1;else this.count+=1;this._input=b;var m=this.count%d.taps;if(m===0)if(!this.hasRequireFailures())return j;else{this._timer=Y(function(){this.state=j;this.tryEmit()},d.interval,this);return e}}return i},failTimeout:function(){this._timer=Y(function(){this.state=i},this.options.interval,this);return i},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==j){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function o(b,a){a=a||{};a.recognizers=Db(a.recognizers,o.defaults.preset);return new ib(b,a)}o.VERSION="2.0.4";o.defaults={domEvents:false,touchAction:qb,enable:true,inputTarget:null,inputClass:null,preset:[[ab,{enable:false}],[bb,{enable:false},["rotate"]],[db,{direction:h}],[N,{direction:h},["swipe"]],[O],[O,{event:"doubletap",taps:2},["tap"]],[cb]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var qc=1,Cb=2;function ib(b,a){a=a||{};this.options=kb(a,o.defaults);this.options.inputTarget=this.options.inputTarget||b;this.handlers={};this.session={};this.recognizers=[];this.element=b;this.input=Rb(this);this.touchAction=new fb(this,this.options.touchAction);wb(this,true);m(a.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}ib.prototype={"set":function(a){r(this.options,a);a.touchAction&&this.touchAction.update();if(a.inputTarget){this.input.destroy();this.input.target=a.inputTarget;this.input.init()}return this},stop:function(a){this.session.stopped=a?Cb:qc},recognize:function(g){var c=this.session;if(c.stopped)return;this.touchAction.preventDefaults(g);var b,f=this.recognizers,a=c.curRecognizer;if(!a||a&&a.state&j)a=c.curRecognizer=null;var d=0;while(d<f.length){b=f[d];if(c.stopped!==Cb&&(!a||b==a||b.canRecognizeWith(a)))b.recognize(g);else b.reset();if(!a&&b.state&(e|u|n))a=c.curRecognizer=b;d++}},"get":function(c){if(c instanceof k)return c;for(var b=this.recognizers,a=0;a<b.length;a++)if(b[a].options.event==c)return b[a];return null},add:function(a){if(t(a,"add",this))return this;var b=this.get(a.options.event);b&&this.remove(b);this.recognizers.push(a);a.manager=this;this.touchAction.update();return a},remove:function(a){if(t(a,"remove",this))return this;var b=this.recognizers;a=this.get(a);b.splice(v(b,a),1);this.touchAction.update();return this},on:function(c,b){var a=this.handlers;m(T(c),function(c){a[c]=a[c]||[];a[c].push(b)});return this},off:function(c,b){var a=this.handlers;m(T(c),function(c){if(!b)delete a[c];else a[c].splice(v(a[c],b),1)});return this},emit:function(c,a){this.options.domEvents&&cc(c,a);var b=this.handlers[c]&&this.handlers[c].slice();if(!b||!b.length)return;a.type=c;a.preventDefault=function(){a.srcEvent.preventDefault()};var d=0;while(d<b.length){b[d](a);d++}},destroy:function(){this.element&&wb(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function wb(b,c){var a=b.element;m(b.options.cssProps,function(b,d){a.style[S(a.style,d)]=c?b:""})}function cc(c,b){var a=Hb.createEvent("Event");a.initEvent(c,true,true);a.gesture=b;b.target.dispatchEvent(a)}r(o,{INPUT_START:c,INPUT_MOVE:q,INPUT_END:a,INPUT_CANCEL:b,STATE_POSSIBLE:M,STATE_BEGAN:e,STATE_CHANGED:u,STATE_ENDED:n,STATE_RECOGNIZED:j,STATE_CANCELLED:C,STATE_FAILED:i,DIRECTION_NONE:L,DIRECTION_LEFT:E,DIRECTION_RIGHT:B,DIRECTION_UP:F,DIRECTION_DOWN:D,DIRECTION_HORIZONTAL:h,DIRECTION_VERTICAL:p,DIRECTION_ALL:xb,Manager:ib,Input:f,TouchAction:fb,TouchInput:R,MouseInput:Q,PointerEventInput:X,TouchMouseInput:eb,SingleTouchInput:ub,Recognizer:k,AttrRecognizer:g,Tap:O,Pan:N,Swipe:db,Pinch:bb,Rotate:ab,Press:cb,on:J,off:I,each:m,merge:kb,extend:r,inherit:d,bindFn:jb,prefixed:S});if(typeof define==zb&&define.amd)define(function(){return o});else if(typeof module!="undefined"&&module.exports)module.exports=o;else V[kc]=o})(window,document,"Hammer")